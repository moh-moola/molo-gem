{% load_reaction_question self as question %}

{% if question %}
<div class="reaction-questions">
  <form class="reaction-questions__field" action="{% url 'reaction-vote' self.slug question.id %}" id="reaction-questions__form" method="post" novalidate>
    {% csrf_token %}
    <div class="reaction-questions__list">
      {% load_choices_for_reaction_question question as choices %}
        {% for choice in choices %}
        {% load_user_choice_reaction_question question self choice as user_has_chosen %}
        {% if user_has_chosen %}
          <span class="reaction-questions__item" id="{{ choice.specific.get_main_language_page.id }}" onclick="set_choice({{ choice.specific.get_main_language_page.id }})" disabled=disabled>
        {% else %}
          <span class="reaction-questions__item" id="{{ choice.specific.get_main_language_page.id }}" onclick="set_choice({{ choice.specific.get_main_language_page.id }})">
        {% endif %}
            <label for="choice{{ forloop.counter }}" class="reaction-questions__label reaction-questions__label--{{ choice.title|slugify }}">
              {% image choice.specific.image width-50 as reaction__icon %}
              <div class="reaction-questions__icon" style="background-image: url('{{reaction__icon.url}}')"></div>
              {{ choice.title|capfirst }}
            </label>
          </span>
        {% endfor %}
    </div>
  </form>
