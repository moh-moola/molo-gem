{% load forms_personalise_extras wagtailimages_tags wagtailcore_tags wagtailsettings_tags static gem_tags %}
{% get_settings %}
<div class="gcn-competition gcn-competition--homepage gcn-competition{{form_page.get_effective_extra_style_hints}}">
  <aside>
  {% if form_page.image %}
    {% image form_page.image width-98 as tmp_photo_small %}
    {% image form_page.image width-320 as tmp_photo_large %}
      <div class="surveys--page__image-wrapper">
        <img src="{{ tmp_photo_small.url }}" srcset="{{ tmp_photo_large.url }}" alt="{{ form_page.image.title }}" class="surveys--page__image" />
      </div>
  {% else %}
      <div class="surveys--page__image gcn-competition__default"></div>
  {% endif %}
  </aside>
  <section>
  <div class="heading heading__component"><h1>{{form_page.title}}</h1></div>
  {% if form_page.homepage_introduction %}
    <div class="heading heading__subheading">
      <p>{{form_page.homepage_introduction|smarttruncatechars:100|safe}}</p>
    </div>
  {% endif %}
  </section>
  <a href="{% pageurl form_page.specific %}" class="call-to-action__button call-to-action__button--primary">
    <span class="call-to-action__button-text call-to-action__button-text--primary">
      {% trans "Take GCN competition" as defaultTextGCN %}
      {{ form_page.homepage_button_text|default:defaultTextGCN}}
    </span>
  </a>

</div>
